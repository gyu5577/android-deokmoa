# 구현 계획


## 🧑‍💻 개발 우선순위 (MVP 중심)

**1, 2순위만 완성해도 앱의 핵심 기능은 문제 없이 동작한다**

### 🥇 1순위: '마이너' 플로우 완성 (핵심 CRUD)

* **목표:** 수동으로 리뷰를 작성, 저장, 조회, 삭제하는 앱의 기본 사이클을 완성
* **XML팀 (화면):**
    1.  **메인 화면 (`MainActivity`):**
        * 리뷰 목록을 보여줄 `RecyclerView` (지금은 비어있음)
        * 리뷰 작성 화면으로 넘어갈 `FloatingActionButton` ( '+' 버튼)
    2.  **리뷰 작성 화면 (`WriteActivity`):**
        * '마이너' 기준 수동 입력 폼 **(가장 중요)**
        * 카테고리(드롭다운), 제목(EditText), 사진첨부(ImageView), 별점(RatingBar), 리뷰(EditText), 태그(CheckBoxes), '저장' 버튼
    3.  **리뷰 상세/수정 화면 (`DetailActivity`):**
        * '작성 화면'과 거의 동일하지만, 기존 데이터를 채워서 보여줌.
        * '수정', '삭제' 버튼 추가.
* **Kotlin팀 (로직/DB):**
    1.  **Room DB 기본 설정:**
        * `Review` (리뷰) `@Entity` (데이터 클래스) 정의 **(가장 중요)**
        * `ReviewDatabase` (DB 객체) 생성
        * `ReviewDao` (DB 명령어) 인터페이스 정의
    2.  **DAO 기능 구현:**
        * `insert(review)` (저장)
        * `getAllReviews()` (메인 화면용, 최신순)
        * `getReviewById(id)` (상세 화면용)
        * `update(review)` (수정)
        * `delete(review)` (삭제)
    3.  **비즈니스 로직 (ViewModel):**
        * '저장' 버튼 로직: `WriteActivity`의 폼에서 데이터를 받아 `dao.insert()` 호출
        * 메인 화면 로직: `dao.getAllReviews()`를 호출해 `RecyclerView`에 데이터 연결
        * '수정', '삭제' 버튼 로직 구현

-----

### 🥈 2순위: 조회 및 통계 기능 (핵심 기능)

* **목표:** 1순위에서 저장한 데이터를 의미 있게 분석하고 검색
* **XML팀 (화면):**
    1.  **취향 보기 화면 (`TasteFragment`/`Activity`):**
        * "카테고리 순위", "태그 순위", "평균 별점"을 보여줄 `TextView`들
        * (선택) `Chart` 라이브러리를 사용해 그래프로 시각화
    2.  **내 리뷰 모아보기 화면 (`SearchFragment`/`Activity`):**
        * 필터 UI: 카테고리(드롭다운), 태그(CheckBoxes), 별점(Spinner/Slider)
        * '검색' 버튼
        * 결과를 보여줄 `RecyclerView` (1순위의 메인 화면과 재활용 가능)
* **Kotlin팀 (로직/DB):**
    1.  **DAO 기능 추가 (복잡한 쿼리):**
        * `getCategoryRank()` (GROUP BY, COUNT, ORDER BY)
        * `getTagRank()` (태그 데이터 분석 로직 필요)
        * `getAverageRating()` (AVG)
    2.  **DAO 기능 추가 (검색):**
        * `searchReviews(category, tags, rating)` (복잡한 WHERE 절 쿼리)
    3.  **비즈니스 로직 (ViewModel):**
        * 각 쿼리 결과를 계산/가공하여 XML팀이 표시하기 쉬운 `String`이나 `List`로 변환

-----

### 🥉 3순위: 설정 및 편의 기능 (개선)

* **목표:** '사용자 제작 카테고리' 기능을 추가합니다.
* **XML팀 (화면):**
    1.  **설정 화면 (`SettingsActivity`):**
        * '카테고리 관리' 메뉴
    2.  **카테고리 관리 화면:**
        * 사용자가 추가한 카테고리 목록 (`RecyclerView`)
        * 새 카테고리 추가(EditText + '추가' 버튼), 삭제(스와이프 등) UI
* **Kotlin팀 (로직/DB):**
    1.  **Room DB 수정:**
        * `Category` `@Entity` (테이블) 새로 추가
        * `CategoryDao` 추가 (insert, delete, getAll)
    2.  **핵심 로직 수정:**
        * **리뷰 작성 화면 (1순위)**: `CategoryDao.getAll()`을 호출해 카테고리 드롭다운을 동적으로 채우도록 수정
        * **카테고리 삭제 로직:** `ReviewDao`를 확인하여 "해당 카테고리를 쓰는 리뷰가 없으면" 삭제하도록 구현

-----

### 🏅 4순위: '메이저' 플로우 (API 연동)

* **목표:** 리뷰 작성 시 외부 API로 편의성을 더합니다.
* **XML팀 (화면):**
    1.  **리뷰 작성 화면 (1순위) 수정:**
        * '작품 검색' 버튼 추가
    2.  **검색 팝업/화면 (`SearchPopup`):**
        * 검색어 입력(EditText), '검색' 버튼
        * API 검색 결과를 보여줄 `RecyclerView`
* **Kotlin팀 (로직/API):**
    1.  **네트워크 설정 (가장 어려움):**
        * **Retrofit**, **Coroutines** 라이브러리 설정
        * 네이버 API 명세에 맞는 `ApiService` (인터페이스) 정의
        * API 응답(JSON)을 받을 `DTO` (데이터 클래스) 정의
    2.  **비즈니스 로직 (ViewModel):**
        * '작품 검색' 로직: Retrofit으로 네이버 API 호출 (코루틴 사용)
        * 결과(DTO)를 `RecyclerView`에 연결
        * 사용자가 특정 작품을 '선택'하면, 해당 정보(제목, 이미지)를 **'리뷰 작성 화면(1순위)'으로 들고 돌아가서** EditText와 ImageView에 **자동으로 채워주는** 로직 구현

> 필요하다면 네이버에서 데이터 몇 개를 가져와서 API처럼 보며주는 하드 코딩 방식으로 API 파트 구현해서 시연 가능. 보이기만 API처럼 보이면 발표에는 문제 없다고 하심!!

-----

## 🚀 1, 2 순위 작성만 마쳐 카테고리 추가 기능을 구현하지 못했을 경우

(하드코딩) 방식으로 해결

Kotlin팀: [1순위] '리뷰 작성' 화면을 개발할 때, 카테고리 드롭다운에 표시될 목록을 DB에서 불러오는 대신, 임시로 하드코딩합니다.

val categories = listOf("애니메이션", "소설", "드라마", "영화", "웹툰 (테스트용)")

이렇게 '웹툰 (테스트용)'이라는 **'가짜 마이너 카테고리'**를 그냥 목록에 포함시켜 버립니다.

XML팀: 그냥 이 categories 리스트를 받아서 드롭다운에 보여주면 됩니다.

-----
